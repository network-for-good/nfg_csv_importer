
- guidance = '' if local_assigns[:guidance].nil?
- header_page = '' if local_assigns[:header_page].nil?
- enable_next_button = true if local_assigns[:enable_next_button].nil?
- next_step_confirmation = nil if local_assigns[:next_step_confirmation].nil? # pass in a confirmation prompt on submit
- back_button_text = t('back', scope: locale_namespace + [step, :button], default: 'Prev') if local_assigns[:back_button_text].nil?
- submit_button_text = t('submit', scope: locale_namespace + [step, :button], default: 'Next') if local_assigns[:submit_button_text].nil?
- framed = true if local_assigns[:framed].nil? # controls whether the page is displayed with a border
- hide_navigation_bar = false if local_assigns[:hide_navigation_bar].nil?

= simple_form_for form, url: wizard_path, html: { id: 'onboarding_main_form', multipart: true, autocomplete: 'off' }, method: :put do |f|
  = render partial: "nfg_csv_importer/layouts/onboarding/import_data/title_bar", locals: { f: f, back_button_text: back_button_text, submit_button_text: submit_button_text, next_step_confirmation: next_step_confirmation }

  - unless hide_navigation_bar
    = render 'onboarding/import_data/navigation_bar'

  - if framed
    .container.py-4
      .row
        .col.col-lg-8.mx-auto
          = render partial: 'nfg_csv_importer/onboarding/flash_messages', locals: { flash: flash }

          = ui.nfg :tile, heading: header_message do
            = ui.nfg :typeface, :muted, caption: header_page, render_if: header_page.present?
            = yield f
  - else
    = yield f
